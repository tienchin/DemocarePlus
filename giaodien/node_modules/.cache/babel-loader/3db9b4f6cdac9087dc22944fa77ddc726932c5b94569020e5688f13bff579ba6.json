{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\votie\\\\democareplus\\\\giaodien\\\\src\\\\components\\\\ChatbotWidget.js\",\n  _s = $RefreshSig$();\n// src/components/ChatbotWidget.js\nimport React, { useState, useEffect, useRef } from 'react';\nimport api from '../services/api';\nimport { FaComments, FaTimes, FaPaperPlane } from 'react-icons/fa';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ChatbotWidget = () => {\n  _s();\n  const [isOpen, setIsOpen] = useState(false);\n  const [messages, setMessages] = useState([{\n    type: 'bot',\n    text: 'Chào bạn, tôi có thể giúp gì về sức khỏe cho bạn?'\n  }]);\n  const [input, setInput] = useState('');\n  const chatEndRef = useRef(null);\n\n  // Tự động cuộn xuống tin nhắn mới nhất\n  useEffect(() => {\n    var _chatEndRef$current;\n    (_chatEndRef$current = chatEndRef.current) === null || _chatEndRef$current === void 0 ? void 0 : _chatEndRef$current.scrollIntoView({\n      behavior: 'smooth'\n    });\n  }, [messages]);\n  const handleSend = async e => {\n    e.preventDefault();\n    if (!input.trim()) return;\n    const userMessage = {\n      type: 'user',\n      text: input\n    };\n    setMessages(prev => [...prev, userMessage]);\n    setInput('');\n\n    // Giả lập API call\n    setTimeout(() => {\n      let botResponse = 'Xin lỗi, tôi chưa hiểu câu hỏi của bạn.';\n      if (input.toLowerCase().includes('đau đầu')) {\n        botResponse = 'Đau đầu có nhiều nguyên nhân. Bạn có thể cho tôi biết bạn đau ở vùng nào không? Ví dụ: đau hai bên thái dương, đau sau gáy, hay đau vùng trán?';\n      } else if (input.toLowerCase().includes('mất ngủ')) {\n        botResponse = 'Mất ngủ ảnh hưởng rất nhiều đến chất lượng cuộc sống. Bạn khó đi vào giấc ngủ, hay thường xuyên thức giấc giữa đêm?';\n      }\n      const botMessage = {\n        type: 'bot',\n        text: botResponse\n      };\n      setMessages(prev => [...prev, botMessage]);\n    }, 1000);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setIsOpen(!isOpen),\n      className: \"fixed bottom-5 right-5 bg-accent w-16 h-16 rounded-full text-white flex items-center justify-center shadow-lg transform transition-transform hover:scale-110\",\n      children: isOpen ? /*#__PURE__*/_jsxDEV(FaTimes, {\n        size: 24\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 19\n      }, this) : /*#__PURE__*/_jsxDEV(FaComments, {\n        size: 24\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 43\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), isOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed bottom-24 right-5 w-[calc(100%-2.5rem)] max-w-sm h-[70vh] max-h-[500px] card-bg rounded-lg shadow-xl flex flex-col\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 border-b border-main\",\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"font-bold text-main\",\n          children: \"T\\u01B0 v\\u1EA5n s\\u1EE9c kh\\u1ECFe\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 53\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-grow p-4 overflow-y-auto space-y-4\",\n        children: [messages.map((msg, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `flex ${msg.type === 'user' ? 'justify-end' : 'justify-start'}`,\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: `p-3 rounded-lg max-w-[80%] ${msg.type === 'user' ? 'bg-accent text-white' : 'bg-gray-200 dark:bg-gray-700 text-main'}`,\n            children: msg.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 17\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 15\n        }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: chatEndRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSend,\n        className: \"p-4 border-t border-main flex gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          value: input,\n          onChange: e => setInput(e.target.value),\n          type: \"text\",\n          placeholder: \"Nh\\u1EADp c\\xE2u h\\u1ECFi c\\u1EE7a b\\u1EA1n...\",\n          className: \"flex-grow p-2 rounded-md border border-main bg-transparent text-main\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"bg-accent p-3 rounded-md text-white\",\n          children: /*#__PURE__*/_jsxDEV(FaPaperPlane, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 83\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n_s(ChatbotWidget, \"S4VyJZgZhjZe1QKvdhpNuQGoDEc=\");\n_c = ChatbotWidget;\nexport default ChatbotWidget;\nvar _c;\n$RefreshReg$(_c, \"ChatbotWidget\");","map":{"version":3,"names":["React","useState","useEffect","useRef","api","FaComments","FaTimes","FaPaperPlane","jsxDEV","_jsxDEV","Fragment","_Fragment","ChatbotWidget","_s","isOpen","setIsOpen","messages","setMessages","type","text","input","setInput","chatEndRef","_chatEndRef$current","current","scrollIntoView","behavior","handleSend","e","preventDefault","trim","userMessage","prev","setTimeout","botResponse","toLowerCase","includes","botMessage","children","onClick","className","size","fileName","_jsxFileName","lineNumber","columnNumber","map","msg","index","ref","onSubmit","value","onChange","target","placeholder","_c","$RefreshReg$"],"sources":["C:/Users/votie/democareplus/giaodien/src/components/ChatbotWidget.js"],"sourcesContent":["// src/components/ChatbotWidget.js\r\nimport React, { useState, useEffect, useRef } from 'react';\r\nimport api from '../services/api';\r\nimport { FaComments, FaTimes, FaPaperPlane } from 'react-icons/fa';\r\n\r\nconst ChatbotWidget = () => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [messages, setMessages] = useState([{ type: 'bot', text: 'Chào bạn, tôi có thể giúp gì về sức khỏe cho bạn?' }]);\r\n  const [input, setInput] = useState('');\r\n  const chatEndRef = useRef(null);\r\n\r\n  // Tự động cuộn xuống tin nhắn mới nhất\r\n  useEffect(() => {\r\n    chatEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  }, [messages]);\r\n\r\n  const handleSend = async (e) => {\r\n    e.preventDefault();\r\n    if (!input.trim()) return;\r\n\r\n    const userMessage = { type: 'user', text: input };\r\n    setMessages(prev => [...prev, userMessage]);\r\n    setInput('');\r\n\r\n    // Giả lập API call\r\n    setTimeout(() => {\r\n      let botResponse = 'Xin lỗi, tôi chưa hiểu câu hỏi của bạn.';\r\n      if (input.toLowerCase().includes('đau đầu')) {\r\n        botResponse = 'Đau đầu có nhiều nguyên nhân. Bạn có thể cho tôi biết bạn đau ở vùng nào không? Ví dụ: đau hai bên thái dương, đau sau gáy, hay đau vùng trán?';\r\n      } else if (input.toLowerCase().includes('mất ngủ')) {\r\n        botResponse = 'Mất ngủ ảnh hưởng rất nhiều đến chất lượng cuộc sống. Bạn khó đi vào giấc ngủ, hay thường xuyên thức giấc giữa đêm?';\r\n      }\r\n      const botMessage = { type: 'bot', text: botResponse };\r\n      setMessages(prev => [...prev, botMessage]);\r\n    }, 1000);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {/* Nút Mở/Đóng Chat */}\r\n      <button onClick={() => setIsOpen(!isOpen)} className=\"fixed bottom-5 right-5 bg-accent w-16 h-16 rounded-full text-white flex items-center justify-center shadow-lg transform transition-transform hover:scale-110\">\r\n        {isOpen ? <FaTimes size={24} /> : <FaComments size={24} />}\r\n      </button>\r\n\r\n      {/* Khung Chat */}\r\n      {isOpen && (\r\n        <div className=\"fixed bottom-24 right-5 w-[calc(100%-2.5rem)] max-w-sm h-[70vh] max-h-[500px] card-bg rounded-lg shadow-xl flex flex-col\">\r\n          <div className=\"p-4 border-b border-main\"><h3 className=\"font-bold text-main\">Tư vấn sức khỏe</h3></div>\r\n          \r\n          <div className=\"flex-grow p-4 overflow-y-auto space-y-4\">\r\n            {messages.map((msg, index) => (\r\n              <div key={index} className={`flex ${msg.type === 'user' ? 'justify-end' : 'justify-start'}`}>\r\n                <p className={`p-3 rounded-lg max-w-[80%] ${msg.type === 'user' ? 'bg-accent text-white' : 'bg-gray-200 dark:bg-gray-700 text-main'}`}>\r\n                  {msg.text}\r\n                </p>\r\n              </div>\r\n            ))}\r\n            <div ref={chatEndRef} />\r\n          </div>\r\n\r\n          <form onSubmit={handleSend} className=\"p-4 border-t border-main flex gap-2\">\r\n            <input value={input} onChange={e => setInput(e.target.value)} type=\"text\" placeholder=\"Nhập câu hỏi của bạn...\" className=\"flex-grow p-2 rounded-md border border-main bg-transparent text-main\"/>\r\n            <button type=\"submit\" className=\"bg-accent p-3 rounded-md text-white\"><FaPaperPlane /></button>\r\n          </form>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ChatbotWidget;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}